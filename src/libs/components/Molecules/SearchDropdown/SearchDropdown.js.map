{"version":3,"sources":["../../../../src/components/Molecules/SearchDropdown/SearchDropdown.tsx"],"names":["React","IconSearch","SearchButton","StyledSearchDropdownWrapper","StyledSearchList","SearchDropdownOption","SearchDropdown","props","className","index","inputValue","initializeOpen","errorMessage","options","searchPlaceholder","onSelectChange","onInputChange","ref","useRef","useState","isOpen","setOpen","saiyanOptions","setsaiyanOptions","handleClickOutside","event","current","contains","target","useEffect","document","addEventListener","removeEventListener","onFocus","onClickHandler","item","onInputChangeHandler","value","filter","option","label","toLowerCase","includes","map","i","provider","type","competency","displayName"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,YAAT;AAEA,SAASC,2BAAT,EAAsCC,gBAAtC;AACA,SAASC,oBAAT;AAEA,OAAO,IAAMC,cAA6C,GAAG,SAAhDA,cAAgD,CAAAC,KAAK,EAAI;AAAA,MAElEC,SAFkE,GAWhED,KAXgE,CAElEC,SAFkE;AAAA,MAGlEC,KAHkE,GAWhEF,KAXgE,CAGlEE,KAHkE;AAAA,MAIlEC,UAJkE,GAWhEH,KAXgE,CAIlEG,UAJkE;AAAA,8BAWhEH,KAXgE,CAKlEI,cALkE;AAAA,MAKlEA,cALkE,sCAKjD,KALiD;AAAA,MAMlEC,YANkE,GAWhEL,KAXgE,CAMlEK,YANkE;AAAA,uBAWhEL,KAXgE,CAOlEM,OAPkE;AAAA,MAOlEA,OAPkE,+BAOxD,EAPwD;AAAA,MAQlEC,iBARkE,GAWhEP,KAXgE,CAQlEO,iBARkE;AAAA,MASlEC,cATkE,GAWhER,KAXgE,CASlEQ,cATkE;AAAA,MAUlEC,aAVkE,GAWhET,KAXgE,CAUlES,aAVkE;AAapE,MAAMC,GAAG,GAAGjB,KAAK,CAACkB,MAAN,CAA6B,IAA7B,CAAZ;;AAboE,wBAe1ClB,KAAK,CAACmB,QAAN,CAAeR,cAAf,CAf0C;AAAA;AAAA,MAe7DS,MAf6D;AAAA,MAerDC,OAfqD;;AAAA,yBAgB1BrB,KAAK,CAACmB,QAAN,CAAeN,OAAf,CAhB0B;AAAA;AAAA,MAgB7DS,aAhB6D;AAAA,MAgB9CC,gBAhB8C;;AAkBpE,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAwB;AAAA;;AACjD,QAAI,kBAACR,GAAG,CAACS,OAAL,yCAAC,aAAaC,QAAb,CAAsBF,KAAK,CAACG,MAA5B,CAAD,CAAJ,EAAkD;AAChDP,MAAAA,OAAO,CAAC,KAAD,CAAP;AACD;AACF,GAJD;;AAMArB,EAAAA,KAAK,CAAC6B,SAAN,CAAgB,YAAM;AACpBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCP,kBAAnC,EAAuD,IAAvD;AAEA,WAAO,YAAM;AACXM,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCR,kBAAtC,EAA0D,IAA1D;AACD,KAFD;AAGD,GAND;;AAQA,MAAMS,OAAO,GAAG,SAAVA,OAAU,GAAM;AACpBZ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,MAAMa,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAO1B,KAAP,EAAiB;AACtCY,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAN,IAAAA,cAAc,CAACoB,IAAD,EAAO1B,KAAP,CAAd;AACD,GAHD;;AAKA,MAAM2B,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAX,KAAK,EAAI;AAAA,QAC5BY,KAD4B,GAClBZ,KAAK,CAACG,MADY,CAC5BS,KAD4B;AAEpCd,IAAAA,gBAAgB,CACdc,KAAK,GACDxB,OAAO,CAACyB,MAAR,CAAe,UAAAC,MAAM;AAAA;;AAAA,aAAIA,MAAJ,aAAIA,MAAJ,wCAAIA,MAAM,CAAEC,KAAZ,kDAAI,cAAeC,WAAf,GAA6BC,QAA7B,CAAsCL,KAAK,CAACI,WAAN,EAAtC,CAAJ;AAAA,KAArB,CADC,GAED5B,OAHU,CAAhB;AAMAG,IAAAA,aAAa,CAACS,KAAD,CAAb;AACD,GATD;;AAWA,SACE,0CACE,oBAAC,2BAAD;AAA6B,IAAA,SAAS,EAAEjB,SAAxC;AAAmD,IAAA,GAAG,EAAES;AAAxD,KACE,oBAAC,YAAD;AACE,IAAA,WAAW,EAAEH,iBADf;AAEE,IAAA,KAAK,EAAEF,YAAY,GAAG,OAAH,GAAa,MAFlC;AAGE,IAAA,YAAY,EAAEA,YAHhB;AAIE,IAAA,KAAK,EAAEF,UAJT;AAKE,IAAA,OAAO,EAAEuB,OALX;AAME,IAAA,QAAQ,EAAEG,oBANZ;AAOE,IAAA,UAAU,EAAE,oBAAC,UAAD,OAPd;AAQE,IAAA,UAAU,EAAC;AARb,IADF,CADF,EAaE,oBAAC,gBAAD;AAAkB,IAAA,MAAM,EAAEhB,MAA1B;AAAkC,IAAA,YAAY;AAA9C,KACGE,aAAa,GACVA,aAAa,CAACqB,GAAd,CAAkB,UAACR,IAAD,EAAOS,CAAP;AAAA,WAChB,oBAAC,oBAAD;AACE,MAAA,GAAG,yBAAkBT,IAAI,CAACK,KAAvB,cAAgCI,CAAhC,CADL;AAEE,MAAA,MAAM,EAAEA,CAAC,KAAKnC,KAFhB;AAGE,MAAA,KAAK,EAAE0B,IAAI,CAACK,KAHd;AAIE,MAAA,QAAQ,EAAEL,IAAI,CAACU,QAJjB;AAKE,MAAA,IAAI,EAAEV,IAAI,CAACW,IALb;AAME,MAAA,UAAU,EAAEX,IAAI,CAACY,UANnB;AAOE,MAAA,OAAO,EAAE;AAAA,eAAMb,cAAc,CAACC,IAAD,EAAOS,CAAP,CAApB;AAAA;AAPX,MADgB;AAAA,GAAlB,CADU,GAYV,IAbN,CAbF,CADF;AA+BD,CAnFM;AAqFPtC,cAAc,CAAC0C,WAAf,GAA6B,gBAA7B","sourcesContent":["import React, { RefObject } from 'react'\nimport { IconSearch } from '@matthill8286/atomic-icon-library'\nimport { SearchButton } from '../SearchButton'\nimport { SearchDropdownProps } from './SearchDropdown.interface'\nimport { StyledSearchDropdownWrapper, StyledSearchList } from './SearchDropdown.styled'\nimport { SearchDropdownOption } from './SearchDropdownOption'\n\nexport const SearchDropdown: React.FC<SearchDropdownProps> = props => {\n  const {\n    className,\n    index,\n    inputValue,\n    initializeOpen = false,\n    errorMessage,\n    options = [],\n    searchPlaceholder,\n    onSelectChange,\n    onInputChange,\n  } = props\n\n  const ref = React.useRef<HTMLDivElement>(null)\n\n  const [isOpen, setOpen] = React.useState(initializeOpen)\n  const [saiyanOptions, setsaiyanOptions] = React.useState(options)\n\n  const handleClickOutside = (event: Event): void => {\n    if (!ref.current?.contains(event.target as Node)) {\n      setOpen(false)\n    }\n  }\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true)\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true)\n    }\n  })\n\n  const onFocus = () => {\n    setOpen(true)\n  }\n\n  const onClickHandler = (item, index) => {\n    setOpen(false)\n    onSelectChange(item, index)\n  }\n\n  const onInputChangeHandler = event => {\n    const { value } = event.target\n    setsaiyanOptions(\n      value\n        ? options.filter(option => option?.label?.toLowerCase().includes(value.toLowerCase()))\n        : options\n    )\n\n    onInputChange(event)\n  }\n\n  return (\n    <>\n      <StyledSearchDropdownWrapper className={className} ref={ref}>\n        <SearchButton\n          placeholder={searchPlaceholder}\n          state={errorMessage ? 'error' : 'idle'}\n          errorMessage={errorMessage}\n          value={inputValue}\n          onFocus={onFocus}\n          onChange={onInputChangeHandler}\n          searchIcon={<IconSearch />}\n          searchType=\"text\"\n        />\n      </StyledSearchDropdownWrapper>\n      <StyledSearchList active={isOpen} isSearchable>\n        {saiyanOptions\n          ? saiyanOptions.map((item, i) => (\n              <SearchDropdownOption\n                key={`SearchOption-${item.label}|${i}`}\n                active={i === index}\n                label={item.label}\n                provider={item.provider}\n                type={item.type}\n                competency={item.competency}\n                onClick={() => onClickHandler(item, i)}\n              />\n            ))\n          : null}\n      </StyledSearchList>\n    </>\n  )\n}\n\nSearchDropdown.displayName = 'SearchDropdown'\n"],"file":"SearchDropdown.js"}