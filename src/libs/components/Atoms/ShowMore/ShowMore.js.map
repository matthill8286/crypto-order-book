{"version":3,"sources":["../../../../src/components/Atoms/ShowMore/ShowMore.tsx"],"names":["React","useEffect","useRef","useState","Icon","SkeletonBlockItem","ContentWrapper","FadeOutOverlay","FlexItem","LabelWrapper","Wrapper","StyleguideArrow","ShowMore","lineHeight","numOfLines","children","labelAlignment","labelNoLineHeight","showMoreText","showLessText","noShowLess","fadeOutHeight","fadeOutBackgroundColor","fontSize","fontColor","fontWeight","padding","loading","isCollapsed","setCollapsed","isLargerContent","setLargerContent","content","displayLabel","toggleCollapse","visibleHeight","Number","current","scrollHeight","Math","min"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAoBC,SAApB,EAA+BC,MAA/B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,IAAT,EAAeC,iBAAf;AAEA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,QAAzC,EAAmDC,YAAnD,EAAiEC,OAAjE;AACA,SAASC,eAAT,QAAgC,mCAAhC;AAEA,OAAO,IAAMC,QAA2B,GAAG,SAA9BA,QAA8B,OAgBrC;AAAA,MAfJC,UAeI,QAfJA,UAeI;AAAA,MAdJC,UAcI,QAdJA,UAcI;AAAA,MAbJC,QAaI,QAbJA,QAaI;AAAA,iCAZJC,cAYI;AAAA,MAZJA,cAYI,oCAZa,YAYb;AAAA,mCAXJC,iBAWI;AAAA,MAXJA,iBAWI,sCAXgB,KAWhB;AAAA,MAVJC,YAUI,QAVJA,YAUI;AAAA,MATJC,YASI,QATJA,YASI;AAAA,6BARJC,UAQI;AAAA,MARJA,UAQI,gCARS,KAQT;AAAA,MAPJC,aAOI,QAPJA,aAOI;AAAA,MANJC,sBAMI,QANJA,sBAMI;AAAA,2BALJC,QAKI;AAAA,MALJA,QAKI,8BALO,EAKP;AAAA,MAJJC,SAII,QAJJA,SAII;AAAA,MAHJC,UAGI,QAHJA,UAGI;AAAA,MAFJC,OAEI,QAFJA,OAEI;AAAA,MADJC,OACI,QADJA,OACI;;AAAA,kBACgCxB,QAAQ,CAAC,IAAD,CADxC;AAAA;AAAA,MACGyB,WADH;AAAA,MACgBC,YADhB;;AAAA,mBAEwC1B,QAAQ,CAAC,KAAD,CAFhD;AAAA;AAAA,MAEG2B,eAFH;AAAA,MAEoBC,gBAFpB;;AAGJ,MAAMC,OAAO,GAAG9B,MAAM,CAAiB,IAAjB,CAAtB;AACA,MAAM+B,YAAY,GAAGL,WAAW,IAAI,CAACR,UAArC;;AACA,MAAMc,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WAAML,YAAY,CAAC,CAACD,WAAF,CAAlB;AAAA,GAAvB;;AACA,MAAMO,aAAa,GAAGrB,UAAU,GAAGD,UAAnC;AACAZ,EAAAA,SAAS,CAAC,YAAM;AAAA;;AACd,QAAIkC,aAAa,GAAGC,MAAM,qBAACJ,OAAO,CAACK,OAAT,qDAAC,iBAAiBC,YAAlB,CAA1B,EAA2D;AACzDP,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,GAJQ,EAIN,CAACI,aAAD,CAJM,CAAT;;AAMA,MAAIR,OAAJ,EAAa;AACX,WAAO,oBAAC,iBAAD;AAAmB,MAAA,KAAK,EAAC,KAAzB;AAA+B,MAAA,MAAM,EAAC;AAAtC,MAAP;AACD;;AAED,SACE,0CACE,oBAAC,OAAD;AAAS,IAAA,aAAa,EAAEQ,aAAxB;AAAuC,IAAA,WAAW,EAAEP;AAApD,KACE,oBAAC,cAAD;AAAgB,IAAA,GAAG,EAAEI;AAArB,KAA+BjB,QAA/B,CADF,EAEGe,eAAe,IAAIF,WAAnB,IACC,oBAAC,cAAD;AACE,IAAA,aAAa,EAAEW,IAAI,CAACC,GAAL,CAASnB,aAAa,IAAI,CAA1B,EAA6Bc,aAA7B,CADjB;AAEE,IAAA,sBAAsB,EAAEb;AAF1B,IAHJ,CADF,EAUGQ,eAAe,IAAIG,YAAnB,IACC,oBAAC,YAAD;AACE,IAAA,cAAc,EAAEjB,cADlB;AAEE,IAAA,QAAQ,EAAEO,QAFZ;AAGE,IAAA,SAAS,EAAEC,SAHb;AAIE,IAAA,UAAU,EAAEC,UAJd;AAKE,IAAA,OAAO,EAAES,cALX;AAME,IAAA,OAAO,EAAER,OANX;AAOE,IAAA,UAAU,EAAET,iBAAiB,GAAG,CAAH,GAAOJ;AAPtC,KAQE,oBAAC,QAAD,QACGe,WAAW,GAAGV,YAAH,GAAkBC,YADhC,EAEE,oBAAC,IAAD;AACE,IAAA,MAAM,EAAES,WAAW,GAAG,EAAH,GAAQ,CAAC,EAD9B;AAEE,IAAA,MAAM,EAAEL,QAFV;AAGE,IAAA,KAAK,EAAEA,QAHT;AAIE,IAAA,SAAS,EAAC;AAJZ,KAKE,oBAAC,eAAD,OALF,CAFF,CARF,CAXJ,CADF;AAkCD,CAnEM","sourcesContent":["import React, { FC, useEffect, useRef, useState } from 'react'\nimport { Icon, SkeletonBlockItem } from '@/index'\nimport { ShowMoreProps } from './ShowMore.interface'\nimport { ContentWrapper, FadeOutOverlay, FlexItem, LabelWrapper, Wrapper } from './ShowMore.styled'\nimport { StyleguideArrow } from '@matthill8286/atomic-icon-library'\n\nexport const ShowMore: FC<ShowMoreProps> = ({\n  lineHeight,\n  numOfLines,\n  children,\n  labelAlignment = 'flex-start',\n  labelNoLineHeight = false,\n  showMoreText,\n  showLessText,\n  noShowLess = false,\n  fadeOutHeight,\n  fadeOutBackgroundColor,\n  fontSize = 16,\n  fontColor,\n  fontWeight,\n  padding,\n  loading,\n}) => {\n  const [isCollapsed, setCollapsed] = useState(true)\n  const [isLargerContent, setLargerContent] = useState(false)\n  const content = useRef<HTMLDivElement>(null)\n  const displayLabel = isCollapsed || !noShowLess\n  const toggleCollapse = () => setCollapsed(!isCollapsed)\n  const visibleHeight = numOfLines * lineHeight\n  useEffect(() => {\n    if (visibleHeight < Number(content.current?.scrollHeight)) {\n      setLargerContent(true)\n    }\n  }, [visibleHeight])\n\n  if (loading) {\n    return <SkeletonBlockItem width=\"80%\" height=\"auto\" />\n  }\n\n  return (\n    <>\n      <Wrapper visibleHeight={visibleHeight} isCollapsed={isCollapsed}>\n        <ContentWrapper ref={content}>{children}</ContentWrapper>\n        {isLargerContent && isCollapsed && (\n          <FadeOutOverlay\n            fadeOutHeight={Math.min(fadeOutHeight || 0, visibleHeight)}\n            fadeOutBackgroundColor={fadeOutBackgroundColor}\n          />\n        )}\n      </Wrapper>\n      {isLargerContent && displayLabel && (\n        <LabelWrapper\n          labelAlignment={labelAlignment}\n          fontSize={fontSize}\n          fontColor={fontColor}\n          fontWeight={fontWeight}\n          onClick={toggleCollapse}\n          padding={padding}\n          lineHeight={labelNoLineHeight ? 0 : lineHeight}>\n          <FlexItem>\n            {isCollapsed ? showMoreText : showLessText}\n            <Icon\n              rotate={isCollapsed ? 90 : -90}\n              height={fontSize}\n              width={fontSize}\n              alignSelf=\"center\">\n              <StyleguideArrow />\n            </Icon>\n          </FlexItem>\n        </LabelWrapper>\n      )}\n    </>\n  )\n}\n"],"file":"ShowMore.js"}