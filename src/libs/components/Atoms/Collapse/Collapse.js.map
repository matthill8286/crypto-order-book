{"version":3,"sources":["../../../../src/components/Atoms/Collapse/Collapse.tsx"],"names":["React","css","styled","StyledCollapse","div","theme","isOpen","collapsedHeight","spacing","base","sm","Collapse","children","isControlled","onClick","onChange","useState","open","setOpen","previousIsOpen","useRef","useEffect","current","handleClick","event","stopPropagation","preventDefault"],"mappings":";;;;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,GAAT,EAAcC,MAAd;AAEA,IAAMC,cAAc,GAAGD,MAAM,CAACE,GAAV;AAAA;AAAA;AAAA,qEAChB;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,MAAUC,MAAV,QAAUA,MAAV;AAAA,MAAkBC,eAAlB,QAAkBA,eAAlB;AAAA,SACAD,MAAM,GACFL,GADE,sCAKFA,GALE,mCAMUM,eAAe,aAAMA,eAAN,UAA4BF,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmBC,EANxE,CADN;AAAA,CADgB,CAApB;AA4BA,OAAO,IAAMC,QAAiC,GAAG,SAApCA,QAAoC,QAO3C;AAAA,MANJC,QAMI,SANJA,QAMI;AAAA,2BALJN,MAKI;AAAA,MALJA,MAKI,6BALK,IAKL;AAAA,iCAJJO,YAII;AAAA,MAJJA,YAII,mCAJW,KAIX;AAAA,oCAHJN,eAGI;AAAA,MAHJA,eAGI,sCAHc,CAGd;AAAA,4BAFJO,OAEI;AAAA,MAFJA,OAEI,8BAFM,YAAM,CAAE,CAEd;AAAA,6BADJC,QACI;AAAA,MADJA,QACI,+BADO,YAAM,CAAE,CACf;;AAAA,wBACoBf,KAAK,CAACgB,QAAN,CAAwBV,MAAxB,CADpB;AAAA;AAAA,MACGW,IADH;AAAA,MACSC,OADT;;AAGJ,MAAMC,cAAc,GAAGnB,KAAK,CAACoB,MAAN,CAAsBd,MAAtB,CAAvB;AACAN,EAAAA,KAAK,CAACqB,SAAN,CAAgB,YAAM;AACpB,QAAIf,MAAM,KAAKa,cAAc,CAACG,OAA1B,IAAqChB,MAAM,KAAKW,IAApD,EAA0D;AACxDC,MAAAA,OAAO,CAACZ,MAAD,CAAP;AACD;;AACDa,IAAAA,cAAc,CAACG,OAAf,GAAyBhB,MAAzB;AACD,GALD,EAKG,CAACA,MAAD,EAASW,IAAT,CALH;;AAOA,MAAMM,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAsD;AACxEA,IAAAA,KAAK,CAACC,eAAN;AACAD,IAAAA,KAAK,CAACE,cAAN;;AAEA,QAAI,CAACb,YAAL,EAAmB;AACjBK,MAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD;;AAEDH,IAAAA,OAAO;AACPC,IAAAA,QAAQ,CAAC,CAACE,IAAF,CAAR;AACD,GAVD;;AAYA,SACE,oBAAC,cAAD;AAAgB,IAAA,MAAM,EAAEA,IAAxB;AAA8B,IAAA,eAAe,EAAEV,eAA/C;AAAgE,IAAA,OAAO,EAAEgB;AAAzE,KACGX,QADH,CADF;AAKD,CAnCM","sourcesContent":["import * as React from 'react'\nimport { css, styled } from '@/styles/styled'\n\nconst StyledCollapse = styled.div<Omit<CollapseProps, 'onClick'>>`\n  ${({ theme, isOpen, collapsedHeight }) =>\n    isOpen\n      ? css`\n          height: auto;\n          overflow: initial;\n        `\n      : css`\n          height: ${collapsedHeight ? `${collapsedHeight}px` : theme.spacing.base.sm};\n          overflow: hidden;\n        `}\n\n  position: relative;\n  cursor: pointer;\n\n  & > * {\n    cursor: pointer;\n  }\n`\n\nexport interface CollapseProps {\n  isOpen?: boolean\n  isControlled?: boolean\n  collapsedHeight?: number\n  onClick?: () => void\n  onChange?: (collapsed: boolean) => void\n}\n\nexport const Collapse: React.FC<CollapseProps> = ({\n  children,\n  isOpen = true,\n  isControlled = false,\n  collapsedHeight = 0,\n  onClick = () => {},\n  onChange = () => {},\n}) => {\n  const [open, setOpen] = React.useState<boolean>(isOpen)\n\n  const previousIsOpen = React.useRef<boolean>(isOpen)\n  React.useEffect(() => {\n    if (isOpen !== previousIsOpen.current && isOpen !== open) {\n      setOpen(isOpen)\n    }\n    previousIsOpen.current = isOpen\n  }, [isOpen, open])\n\n  const handleClick = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    event.stopPropagation()\n    event.preventDefault()\n\n    if (!isControlled) {\n      setOpen(!open)\n    }\n\n    onClick()\n    onChange(!open)\n  }\n\n  return (\n    <StyledCollapse isOpen={open} collapsedHeight={collapsedHeight} onClick={handleClick}>\n      {children}\n    </StyledCollapse>\n  )\n}\n"],"file":"Collapse.js"}